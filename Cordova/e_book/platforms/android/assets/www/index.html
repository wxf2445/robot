<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
<title>by Wander</title>
<style type="text/css">
* {margin:0; padding:0}

embed{
	 opacity: 0;                    /* Firefox, Safari(WebKit), Opera */

   -ms-filter: "alpha(opacity=0)"; /* IE 8 */

   filter: alpha(opacity=0);       /* IE 4-7 */

   zoom: 1;/* set "zoom", "width" or "height" to trigger "hasLayout" in IE 7 and lower */
}
</style>
<script type="text/javascript" src="js/index.js"></script>
<script type="text/javascript" src="cordova.js"></script>
<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
<script type="text/javascript">
var image_src = new Array("image/1468474187160.jpeg","image/1468474208554.jpeg","image/1468474264208.jpeg","image/1468474339580.jpeg","image/1468474352367.jpeg","image/1468474365832.jpeg","image/1468474396421.jpeg","image/1468474484772.jpeg");
var image_cur = 0;
var image = new Image();
var piece = 16;
/*image.onload = function(){
	var height_ = $(window).height();
	var width_ = $(window).width();
	height_ = (height_-this.height)/2;
	width_ = (width_-this.width)/2;
	var length = this.width/piece;
	for(var i=0;i<piece;i++){
		for(var j=0;j<piece;j++){
			var div = document.createElement("div");
			div.setAttribute("left",(width_+length*(i))+"px");
			div.setAttribute("top",(height_+length*(j))+"px");
			var ran_x = parseInt(Math.random()*piece);
			var ran_y = parseInt(Math.random()*piece);
			div.style.cssText="position:absolute;left:"+(width_+length*(ran_x))+"px;top:"+(height_+length*(ran_y))+"px;"+
			"background:url("+this.src+") no-repeat -"+length*i+"px -"+length*j+
			"px;height:"+length+"px;width:"+length+"px";
			document.body.appendChild(div);
		}
	}
	var divs = $("div");
	for(var i=0;i<piece;i++){
		for(var j=0;j<piece;j++){
			divs.eq(i*piece+j).animate({'top':divs.eq(i*piece+j).attr("top"),'left':divs.eq(i*piece+j).attr("left")},2000);
		}
	}
}*/
image.onload = function(){
	var height_ = $(window).height();
	var width_ = $(window).width();
	height_ = (height_-this.height)/2;
	width_ = (width_-this.width)/2;
	var length_x = this.width/piece;
	var length_y = this.height/piece;
/*	var arr = new Array();
	for(var i=0;i<piece*piece;i++) arr.push(1);*/
	for(var i=0;i<piece;i++){
		for(var j=0;j<piece;j++){
			var div = document.createElement("div");
			div.setAttribute("left",(width_+length_x*(i))+"px");
			div.setAttribute("top",(height_+length_y*(j))+"px");
			var ran_x = parseInt(Math.random()*piece),ran_y = parseInt(Math.random()*piece);
			/*while(arr[ran_x*piece+ran_y]==0){
			    ran_x = parseInt(Math.random()*piece);
			    ran_y = parseInt(Math.random()*piece);
			}
			arr[ran_x*piece+ran_y] = 0;*/
			div.style.cssText="position:absolute;left:"+(width_+length_x*(ran_x))+"px;top:"+(height_+length_y*(ran_y))+"px;"+
			"background:url("+this.src+") no-repeat -"+length_x*i+"px -"+length_y*j+
			"px;height:"+length_y+"px;width:"+length_x+"px;";
			document.body.appendChild(div);
		}
	}
	var divs = $("div");
	if(Math.random()>0.5){
		for(var i=0;i<piece;i++){
			for(var j=0;j<piece;j++){
				var index = i*piece+j;
				var top = divs.eq(index).attr('top');
				var left = divs.eq(index).attr('left');
				setTimeout(
					(function(index,top,left){
					return function(){
						divs.eq(index).animate({'top':top,'left':left},1000);
					}
					})(index,top,left),index*5);
			}
		}
	}else{
		for(var i=0;i<piece;i++){
			for(var j=0;j<piece;j++){
				var index = i*piece+j;
				var top = divs.eq(index).attr('top');
				var left = divs.eq(index).attr('left');
				divs.eq(index).animate({'top':top,'left':left},piece*piece*5+1000);
			}
		}
	}
}

image.src="image/ll.png";
var int=self.setInterval("imageOnLoad()",piece*piece*5+3500);
function imageOnLoad(){
	$("div").remove();
	image.src=image_src[++image_cur%image_src.length];
}

var audio = document.createElement("audio");
//if (audio !== null && audio.canPlayType("audio/mpeg") ){
    audio.src = "music/yf.mp3";
    audio.load();
    audio.loop="loop";
    audio.play();
//}
/*cordova.exec(function() { 
		alert("success");
            }, function(err) {  
            alert(err.toString());  
        }, "MusicPlayer", "com.wxf.e_book.MusicPlayer", []); */
</script>

</head>
<body>
<!--<embed src="music/kl.mp3" autostart="true" loop="true"> -->

</body>
</html>